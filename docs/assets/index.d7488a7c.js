import{w as V,b as h,e as _e,z as me,q as je,o as _,h as b,j as v,F,l as W,B,C as ye,_ as U,n as be,t as xe,d as $e,f as q,D as Oe,i as ne,E as ze,G as ke,H as Fe,c as ee,I as We,p as qe,m as fe,J as ve,k as Ue,s as Ke,x as Xe}from"./index.78fd87f9.js";const pe=(e,{decimal:t=0}={})=>t>0?Number(e.toFixed(t)):Math.round(e),z=(e,{onmousedown:t,onmousemove:n,onmouseup:a}={})=>{let s=e.getBoundingClientRect();const l={x:0,y:0},o=u=>{let d=u.pageX-s.x,g=u.pageY-s.y;d<0&&(d=0),d>s.width&&(d=s.width),g<0&&(g=0),g>s.height&&(g=s.height),l.x=pe(d/s.width,{decimal:2}),l.y=pe(g/s.height,{decimal:2})},f=u=>{o(u),n&&n(l,u)},p=u=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p),a&&a(l,u)},y=u=>{s=e.getBoundingClientRect(),o(u),document.addEventListener("mousemove",f),document.addEventListener("mouseup",p),t&&t(l,u)};return e.addEventListener("mousedown",y),{destroy(){e.removeEventListener("mousedown",y)}}},we=(e,t,n)=>{let a=Math.round(e).toString(16),s=Math.round(t).toString(16),l=Math.round(n).toString(16);return a.length===1&&(a="0"+a),s.length===1&&(s="0"+s),l.length===1&&(l="0"+l),"#"+a+s+l},ge=(e,t,n,a=1)=>{const s=we(e,t,n);let l=Math.round(a*255).toString(16);return l.length===1&&(l="0"+l),s+l},Se=(e,t,n)=>{e/=255,t/=255,n/=255;const a=Math.min(e,t,n),s=Math.max(e,t,n),l=s-a;let o=0,f=0;const p=s;if(l===0)o=f=0;else{f=l/s;const y=((s-e)/6+l/2)/l,u=((s-t)/6+l/2)/l,d=((s-n)/6+l/2)/l;e===s?o=d-u:t===s?o=1/3+y-d:n===s&&(o=2/3+u-y),o<0?o+=1:o>1&&(o-=1)}return[o*360,f*100,p*100]},Ye=(e,t,n,a=1)=>[...Se(e,t,n),a];function Je(e,t,n){e=e/360*6,t/=100,n/=100;const a=Math.floor(e),s=e-a,l=n*(1-t),o=n*(1-s*t),f=n*(1-(1-s)*t),p=a%6,y=[n,o,l,l,f,n][p],u=[f,n,n,o,l,l][p],d=[l,l,f,n,n,o][p];return[Math.round(y*255),Math.round(u*255),Math.round(d*255)]}const Qe=(e,t,n)=>{const[a,s,l]=Je(e,t,n);return we(a,s,l)},Ze=(e,t,n,a=1)=>`${Qe(e,t,n)}${a===0?"00":Math.round(a*255).toString(16)}`,oe=e=>{e=e.slice(0,7);let t=0,n=0,a=0;return e.length==4?(t=Number("0x"+e[1]+e[1]),n=Number("0x"+e[2]+e[2]),a=Number("0x"+e[3]+e[3])):e.length==7&&(t=Number("0x"+e[1]+e[2]),n=Number("0x"+e[3]+e[4]),a=Number("0x"+e[5]+e[6])),[t,n,a]},le=e=>{const t=oe(e),n=Number("0x"+e[7]+e[8]);return[...t,Number((n/255).toFixed(2))]},et=e=>{const[t,n,a,s]=le(e);return Ye(t,n,a,s)},he=e=>e.startsWith("#")?"\u7EAF\u8272":e.startsWith("linear-gradient")?"\u6E10\u53D8":"\u56FE\u6848",te=(e,t)=>{const n=[];return t.forEach(a=>{n.push(`${a.color} ${a.offset*100}%`)}),`linear-gradient(${e}deg, ${n.join(",")})`};function tt(e){const t=nt(e);document.body.appendChild(t),setTimeout(()=>{var n;return(n=t==null?void 0:t.parentNode)==null?void 0:n.removeChild(t)},2e3)}function nt(e,t=!0){const n=document.createElement("div");return n.id="color-pipette-tooltip-container",n.innerHTML=e,n.style=`
    position: fixed;
    left: 50%;
    top: 9%;
    z-index: 10002;
    display: ${t?"flex":"none"};
    align-items: center;
    background-color: rgba(0,0,0,0.4);
    padding: 6px 12px;
    border-radius: 4px;
    color: #fff;
    font-size: 18px;
    pointer-events: none;
  `,n}const ot={class:"my-tabs"},lt={class:"my-tabs__header p-0.5 mb-3 rounded bg-gray-100 cursor-pointers"},at={class:"my-tabs__header-shell relative flex justify-between"},st=["onClick"],ut={class:"my-tabs__content"},rt={name:"Tabs"},it=Object.assign(rt,{props:{value:{type:String,required:!0}},emits:["update:value","change"],setup(e,{expose:t,emit:n}){const a=e;V(()=>a.value,()=>{p()});const s=h([]),l=_e({width:0,left:0});let o=0;me(()=>{o=100/s.value.length,l.width=`${o}%`,p()});let f=null;async function p(u=-1){var d,g,k,x;u<0&&(u=s.value.findIndex(w=>w.props.label===a.value)),l.left=`${o*u}%`;try{await je(),(g=(d=f==null?void 0:f.exposed)==null?void 0:d.changeActive)==null||g.call(d,!1),f=s.value[u],(x=(k=f.exposed)==null?void 0:k.changeActive)==null||x.call(k,!0)}catch{}}function y(u,d){n("update:value",u.props.label),p(d)}return t({tabs:s}),(u,d)=>(_(),b("div",ot,[v("div",lt,[v("div",at,[(_(!0),b(F,null,W(s.value,(g,k)=>(_(),b("div",{key:g.props.label,class:be(["my-tab__title relative flex-auto py-1 text-center",{"my-active":g.props.label===e.value}]),onClick:x=>y(g,k)},xe(g.props.label),11,st))),128)),v("div",{class:"my-tab__slider",style:B(l)},null,4)])]),v("div",ut,[ye(u.$slots,"default",{},void 0,!0)])]))}});var ct=U(it,[["__scopeId","data-v-7356499f"]]);const dt=$e({setup(){}}),ft={t:"1685345224620",class:"sd-xggj",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8489",width:"20",height:"20"},vt=v("path",{d:"M716.288 140.501333a42.666667 42.666667 0 0 1 60.373333 0l90.496 90.496a42.666667 42.666667 0 0 1 0 60.330667l-120.661333 120.704L595.626667 261.12l120.661333-120.661333zM520.192 185.770667l301.696 301.653333-60.330667 60.373333-301.653333-301.696 60.288-60.330666z","p-id":"8490"},null,-1),pt=v("path",{d:"M580.565333 366.762667l-60.373333-60.330667-362.026667 362.026667V853.333333l181.034667-3.84 362.026667-362.026666-60.330667-60.373334-331.861333 331.904-60.373334-60.373333 331.904-331.861333z","p-id":"8491"},null,-1),gt=[vt,pt];function ht(e,t,n,a,s,l){return _(),b("svg",ft,gt)}var _t=U(dt,[["render",ht]]);const mt={name:"TabPanel"},yt=Object.assign(mt,{props:{label:{type:String,required:!0}},setup(e,{expose:t}){const n=Oe();n.parent.exposed.tabs.value.push(n);const a=h(!1),s=q(()=>({display:a.value?"block":"none"}));function l(o){a.value=o}return t({changeActive:l}),(o,f)=>(_(),b("div",{class:"tab-panel",style:B(s.value)},[ye(o.$slots,"default")],4))}});function bt(e,t,n){var a=n||{},s=a.noTrailing,l=s===void 0?!1:s,o=a.noLeading,f=o===void 0?!1:o,p=a.debounceMode,y=p===void 0?void 0:p,u,d=!1,g=0;function k(){u&&clearTimeout(u)}function x(G){var M=G||{},S=M.upcomingOnly,L=S===void 0?!1:S;k(),d=!L}function w(){for(var G=arguments.length,M=new Array(G),S=0;S<G;S++)M[S]=arguments[S];var L=this,I=Date.now()-g;if(d)return;function A(){g=Date.now(),t.apply(L,M)}function T(){u=void 0}!f&&y&&!u&&A(),k(),y===void 0&&I>e?f?(g=Date.now(),l||(u=setTimeout(y?T:A,e))):A():l!==!0&&(u=setTimeout(y?T:A,y===void 0?e-I:e))}return w.cancel=x,w}function xt(e,t,n){var a=n||{},s=a.atBegin,l=s===void 0?!1:s;return bt(e,t,{debounceMode:l!==!1})}const $t=$e({props:["modelValue"],emits:["change","update:modelValue"],setup(e,{emit:t}){const n=h(90),a=h(null),s=q(()=>n.value-90);let l=!1;const o=h(!1),f=u=>{t("change",u)};return V(()=>n.value,u=>{e.modelValue!==n.value&&t("update:modelValue",u),t("change")}),V(()=>e.modelValue,u=>{n.value=u}),{inputChange:f,num:n,turn:u=>{if(!l)return;const d={x:27,y:27},g=u.offsetX-d.x,k=u.offsetY-d.y,w=Math.atan2(k,g)*180/Math.PI;n.value=Math.round(w+90)},touch:(u,d)=>{u.preventDefault(),l=d},angleInDegrees:s,numInput:a,visiable:o}}}),kt={class:"angle-input-box"};function wt(e,t,n,a,s,l){return _(),b("div",kt,[ne(v("input",{ref:"numInput","onUpdate:modelValue":t[0]||(t[0]=o=>e.num=o),class:"angle-input",onFocus:t[1]||(t[1]=o=>e.visiable=!0),onBlur:t[2]||(t[2]=o=>e.visiable=!1),onInput:t[3]||(t[3]=(...o)=>e.inputChange&&e.inputChange(...o))},null,544),[[ze,e.num]]),ne(v("div",{class:"AngleHandle",onMousedown:t[6]||(t[6]=o=>e.touch(o,!0)),onMouseup:t[7]||(t[7]=o=>e.touch(o,!1))},[v("div",{class:"angle",onMouseup:t[4]||(t[4]=(...o)=>e.turn&&e.turn(...o)),onMousemove:t[5]||(t[5]=(...o)=>e.turn&&e.turn(...o))},[v("div",{style:B(`transform: rotate(${e.angleInDegrees}deg)`),class:"line"},null,4)],32)],544),[[ke,e.visiable]])])}var St=U($t,[["render",wt]]);const Ce=e=>(Ke("data-v-4939038b"),e=e(),Xe(),e),Ct={class:"color-picker"},Mt={key:1,class:"title"},At={key:2,class:"cp__gradient flex-center"},Ht={class:"cp__gradient-bar"},Bt=["data-sort","onMousedown","onKeyup"],Gt=Ce(()=>v("div",{class:"cpp__color-saturation"},null,-1)),Lt=Ce(()=>v("div",{class:"cpp__color-value"},null,-1)),It={class:"cps__track"},Tt={class:"cps__track"},Et={class:"cp__box"},Pt=["value"],Vt=["value"],Dt=["onClick"],Nt={name:"ColorPicker",inheritAttrs:!1},Rt=Object.assign(Nt,{props:{value:{type:String,default:"#ffffffff"},modes:{type:Array,default:()=>["\u7EAF\u8272","\u6E10\u53D8"]},defaultColor:{type:String,default:"#ffffffff"},defaultGradient:{type:String,default:"linear-gradient(90deg, #fffae0ff 0%, #ffd1f1ff 100%)"},defaultImage:{type:String,default:"https://st0.dancf.com/csc/157/material-2d-textures/0/20190714-174653-ed3c.jpg"}},emits:["update:value","change","native-pick","blur"],setup(e,{emit:t}){const n=e,a=h(he(n.value)),s=h(90),l=h([]),o=_e({h:0,s:0,l:0,a:0}),f=h("#f00"),p=h("#000"),y=h(0);let u=h({});const d="EyeDropper"in window,g=h(),k=h(),x=h(),w=h(),G=h(),M=h(),S=h();let L=null,I=null,A=null,T=null,j=null,K=!0,X=null;const N=h([]),D={color:n.defaultColor,gradient:n.defaultGradient,image:n.defaultImage},ae=q(()=>n.modes.includes("\u6E10\u53D8")),Me=q(()=>{const r=oe(p.value).join(",");return{background:`linear-gradient(to right, rgba(${r}, 0) 0%, rgb(${r}) 100%)`}});V(u,r=>{J(r.color)}),V(p,r=>{Ee(r)}),V(()=>n.value,r=>{const i=he(r);i!==a.value&&(a.value=i),se(i),Y(r),Ae(r)});const Ae=xt(300,async r=>{const i=N.value,c=i.indexOf(r);c!==-1&&N.value.splice(c,1),i.length>=4&&N.value.splice(i.length-1,1);const m=[r];N.value=m.concat(i)}),He=V(o,Be,{deep:!0});function Be(r){const i=Ze(...Object.values(r));let c;a.value==="\u7EAF\u8272"?c=i:a.value==="\u6E10\u53D8"&&(u.value.color=i,c=te(s.value,l.value)),ue(i),O(c)}me(Ge);async function Ge(){x.value.style.left=`${o.s}%`,x.value.style.top=`${100-o.l}%`,w.value.style.left=`${o.h/360*100}%`,M.value.style.left=`${o.a*100}%`,ae.value&&(L=z(g.value,{onmousedown:r,onmousemove:i,onmouseup:c}));function r($){if(j)return;const H=l.value.findIndex(P=>P.offset>=$.x),E=l.value[H-1],R=le(E.color),ie=l.value[H],ce=le(ie.color),de=[];for(let P=0;P<3;P+=1)de.push(R[P]+(ce[P]-R[P])*$.x);const Ne=ie.offset-$.x-($.x-E.offset)>0?R[3]:ce[3],Re=ge(...de,Ne);u.value={color:Re,offset:$.x},l.value.splice(H,0,u.value)}function i($){if(!j)return;u.value.offset=$.x,l.value.sort((E,R)=>E.offset-R.offset);const H=te(s.value,l.value);O(H)}function c(){j=!1}I=z(k.value,{onmousemove:m,onmouseup:m});function m($){Q();const H=$.x*100,E=$.y*100;o.s=Math.round(H),o.l=Math.round(100-E),x.value.style.left=`${H}%`,x.value.style.top=`${E}%`}A=z(G.value,{onmousemove:C,onmouseup:C});function C($){Q(),o.h=$.x*360,w.value.style.left=`${$.x*100}%`}T=z(S.value,{onmousemove:re,onmouseup:re});function re($){Q(),o.a=$.x,M.value.style.left=`${$.x*100}%`}se(a.value),Y(n.value)}Fe(()=>{I==null||I.destroy(),A==null||A.destroy(),T==null||T.destroy(),He(),L&&L.destroy()});function Y(r){a.value==="\u7EAF\u8272"?D.color=r:a.value==="\u6E10\u53D8"?D.gradient=r:a.value==="\u56FE\u6848"&&(D.image=r)}function O(r){r!==n.value&&(Y(r),t("update:value",r),t("change",{mode:a.value,color:r,angle:Number(s.value),stops:l.value}))}async function Le(r){if(r===a.value)return;a.value=r;let i;r==="\u7EAF\u8272"?i=D.color:r==="\u6E10\u53D8"?i=D.gradient:r==="\u56FE\u6848"&&(i=D.image),O(i)}function se(r){r==="\u7EAF\u8272"?J(n.value):r==="\u6E10\u53D8"&&(l.value.length===0?n.value.match(/[^,]+/g).forEach((i,c)=>{if(c===0){s.value=Number(i.match(/\d+/)[0]);return}let[m,C]=i.trim().split(" ");m.startsWith("#")||(m=ge(m)),C=C.match(/\d+/)[0]/100,l.value.push({color:m,offset:C}),u.value=l.value[0]}):J(u.value.color))}function ue(r){var i;f.value=`hsl(${o.h}, 100%, 50%)`,p.value=r.slice(0,7),p.value,y.value=Math.round(((i=o.a)!=null?i:1)*100)}function J(r){if(K){const i=et(r);o.h=i[0],o.s=i[1],o.l=i[2],o.a=i[3],ue(r);let c=o.s;const m=Math.round(100-o.l);x.value.style.left=`${c}%`,x.value.style.top=`${m}%`,c=o.h/360,w.value.style.left=`${c*100}%`,M.value.style.left=`${o.a*100}%`}}function Ie(r){j=!0,u.value=r}function Te(r){if(!["Backspace","Delete"].includes(r.key)||l.value.length===2)return;const i=l.value.indexOf(u.value);l.value.splice(i,1),u.value=l.value[0]}function Ee(r){if(/^#(?:[0-9a-f]{3}){1,2}$/i.test(r)){const i=oe(r),[c,m,C]=Se(...i);o.h=c,o.s=m,o.l=C,x.value.style.left=`${o.s}%`,x.value.style.top=`${100-o.l}%`,w.value.style.left=`${o.h/360*100}%`,p.value=r}}function Q(){K=!1,X&&clearTimeout(X),X=setTimeout(()=>{K=!0},16)}async function Z(r){let i="";if(r&&r.target.value){const c=r.target.value;i=c+(c.length===7?"ff":"")}else{const c=new window.EyeDropper;tt("\u6309Esc\u53EF\u9000\u51FA");try{i=(await c.open()).sRGBHex+"ff"}catch{console.log("\u7528\u6237\u53D6\u6D88\u4E86\u53D6\u8272")}}a.value==="\u6E10\u53D8"?(u.value.color=i,u.value={...u.value}):t("update:value",i),t("native-pick",i)}const Pe=r=>{const i=Ve(r.target.value);t("blur",i),t("update:value",i)};function Ve(r){let i=r.replace(/\s/g,"");return r.startsWith("#")||(i="#"+i),i.length<9&&(i=i.padEnd(9,"f")),i}function De(){O(te(s.value,l.value))}return(r,i)=>(_(),b("div",Ct,[e.modes.length>1?(_(),ee(ct,{key:0,value:a.value,"onUpdate:value":Le},{default:We(()=>[(_(!0),b(F,null,W(e.modes,c=>(_(),ee(yt,{key:c,label:c},null,8,["label"]))),128))]),_:1},8,["value"])):(_(),b("div",Mt,xe(a.value),1)),ae.value?ne((_(),b("div",At,[v("div",Ht,[v("div",{ref_key:"elGradientTrack",ref:g,class:"cpgb__track",style:B([{width:"100%"},{background:e.value}])},[(_(!0),b(F,null,W(l.value,(c,m)=>(_(),b("div",{key:m,class:be(["cpgb__pointer",{"cpgb__pointer--active":c===ve(u)}]),"data-sort":m,style:B({left:`${c.offset*100}%`,background:c.color}),tabindex:"-1",onMousedown:C=>Ie(c),onKeyup:Ue(Te,["stop"])},null,46,Bt))),128))],4)]),qe(St,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=c=>s.value=c),onChange:De},null,8,["modelValue"])],512)),[[ke,a.value==="\u6E10\u53D8"]]):fe("",!0),v("div",{ref_key:"elPalette",ref:k,class:"cp__palette",style:B({background:f.value})},[Gt,Lt,v("div",{ref_key:"elPalettePointer",ref:x,class:"cpp__pointer"},null,512)],4),v("div",{ref_key:"elSliderHux",ref:G,class:"cp__slider cp__slider-hux"},[v("div",It,[v("div",{ref_key:"elSliderHuxPointer",ref:w,class:"cpst__pointer"},null,512)])],512),v("div",{ref_key:"elSliderAlpha",ref:S,class:"cp__slider cp__slider-alpha"},[v("div",{class:"cpsa__background",style:B(Me.value)},null,4),v("div",Tt,[v("div",{ref_key:"elSliderAlphaPointer",ref:M,class:"cpst__pointer"},null,512)])],512),v("div",Et,[v("div",{class:"item",onClick:Z},[d?(_(),ee(_t,{key:0})):(_(),b("input",{key:1,class:"native",type:"color",onInput:Z},null,32))]),a.value==="\u6E10\u53D8"?(_(),b("input",{key:0,class:"input",value:ve(u).color},null,8,Pt)):(_(),b("input",{key:1,value:e.value,class:"input",onBlur:Pe},null,40,Vt)),a.value==="\u7EAF\u8272"?(_(!0),b(F,{key:2},W(N.value,c=>(_(),b("div",{key:c,class:"item item-color",style:B({background:c}),onClick:m=>Z({target:{value:c}})},null,12,Dt))),128)):fe("",!0)])]))}});var Ot=U(Rt,[["__scopeId","data-v-4939038b"]]);export{Ot as C};
